<head>
  <title>test1</title>
</head>

<body>
  {{> graph}}
</body>

<template name="graph">
  <svg width="1000" height="1000">
    {{#with data}}
      {{> graphBar}}
    {{/with}}
  </svg>
</template>

<template name="graphBar">
  <rect x="{{_x}}" y="{{expr '_depth * 20'}}" width="{{getWidth totalHitCount}}" height="20" 
      fill="{{getColor}}" stroke="#fff" stroke-width="0.4"/>
  {{#if hasChildren}}
    {{#each getChildren}}
      {{> graphBar }}
    {{/each}}
  {{/if}}
</template>

<template name="graph2">
  <svg width="500" height="500">
    
    {{#each data}}
      <rect x="0" class="barr" y="{{expr 'index * 28'}}" width="{{value}}" height="25" 
        fill="#fdd" stroke="#faa" stroke-width="{{storkeWidth}}"/>
      <text x="{{expr 'value + 5'}}" y="{{expr '( index * 25 ) + 13'}}" 
        font-family="monaco" font-size="12" fill="#888">{{value}}</text>
    {{/each}}
  </svg>
</template>
